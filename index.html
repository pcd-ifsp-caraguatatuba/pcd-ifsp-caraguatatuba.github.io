<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="refresh" content="30;url=index.html">

    <title> Plataforma de Coleta de Dados Climáticos</title>
    <link rel="icon" href="img/if.png">

    <link rel="stylesheet" type="text/css" href="css/css_ids.css">
    <link rel="stylesheet" type="text/css" href="css/css_elements.css">
    <link rel="stylesheet" type="text/css" href="css/css_classes.css">

    <script src="js/Chart.js"></script>
    <script src="js/data.js"></script>
    <script src="js/script.js"></script>
  </head>
  <script>
    registros=73;
  </script>

  <script>
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth()+1; //January is 0!
    var yyyy = today.getFullYear();
    if(dd<10) {
        dd = '0'+dd
    }
    if(mm<10) {
        mm = '0'+mm
    }
    today =dd +"/"+ mm + '/' + yyyy;
  </script>


  <body>
    <!-- <div id="header"> -->
      <div id="menu">
        <ul>
          <li style="margin-left: 8%" ><a href="index.html">Home</a></li>
          <li><a href="pluviometro.html">Índice Pluviométrico</a></li>
          <li><a href="temperatura.html">Temperatura</a></li>
          <li><a href="umidade.html">Umidade</a></li>
          <li><a href="barometro.html">Pressão Atmosférica</a></li>
          <!-- <li><a href="anemometro.html">Velocidade dos Ventos</a></li> -->
          <li style="float:right"><a class="active" href="sobre.html">Sobre</a></li>
        </ul>
      </div>
      <!-- <div id="header_content"> -->
          <!-- <a href="index.html" >
            <img src="img/ifsp.png" id="logo" alt="Logo do IFSP">
          </a> -->
        <!-- </br> -->
        <!-- <h1 id="titulo"> Plataforma de Coleta de Dados Climáticos de Baixo Custo </h1> -->
        <!-- <p style="text-align: right"><script>document.write("Hoje é "+today)</script></p>-->
      <!-- </div> -->
    <!-- </div> -->
  </br>
    <div id="selecionar">
      <div id="inline">
      <pre style="display: inline">Horas: </pre>
      <select style="display: inline" id="selectHora" onchange="alterarPorHora(this.value)">
        <option value="0"> - </option>
        <option value="1">1</option>
        <option value="12">12</option>
        <option value="18">18</option>
        <option value="24">24</option>
        <option value="36">36</option>
        <option value="48">48</option>
        <option value="96">96</option>
      </select>

      <pre style="display: inline">Dias: </pre>
      <select style="display: inline" id="selectDia" onchange="alterarPorDia(this.value)">
        <option value="0"> - </option>
        <option value="5">5</option>
        <option value="7">7</option>
        <option value="10">10</option>
        <option value="14">14</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="25">25</option>
        <option value="28">28</option>
        <option value="30">30</option>
      </select>
    </div>
    </div>

</br>
    <div id="page2">
      </br>
      <div id="content">
        <!-- <div class="chart_full"> -->
        <p id="text_title">
        Precipitação Acumulada em Milímetros (mm)
        </p>
          <canvas onclick="" id="tabela_pluviometro" width="40px" height="10px"></canvas><br><br>
        <!-- </div> -->

        <p id="text_title">
          Temperatura (°C)
        </p>
        <!-- <div class="chart_full"> -->
          <canvas id="tabela_temperatura"  width="40px" height="10px"></canvas><br><br>
        <!-- </div> -->

        <p id="text_title">
          Umidade Relativa do Ar (%)
        </p>
        <!-- <div class="chart_full"> -->
          <canvas id="tabela_umidade" width="40px" height="10px"></canvas><br><br>
        <!-- </div> -->

        <p id="text_title">
        Pressão Atmosférica (Pah)
        </p>
        <!-- <div class="chart_full"> -->
          <canvas id="tabela_barometro" width="40px" height="10px"></canvas><br><br>
        <!-- </div> -->

        <!-- <div class="chart">
          <canvas id="tabela_anemometro" width="20" height="12"></canvas>
        </div> -->

        </div>
      </div>

    <div class="line_black">
    </div>

    <div id="footer">
      </br>
      <p id="text-footer">
        Plataforma de Coleta de Dados Climáticos de baixo Custo
        </br>
        </br>
        Aluno: Matheus Ladislau Ribeiro
        </br>
        Orientador: Ederson Rafael Wagner
        </br>
        Coorientador: Emerson Roberto de Oliveira
        </br>
        </br>
      </p>
  </body>
</html>

<script>
  hora=[]
  for (var i=0; i<datetime.length; i++){
    hora.push(datetime[i].slice(11,16));
  }
</script>

<script>
  length=(hora.length)
  qtdX=registros;
  hora_data=[]
  // anemometro_data=[]
  if(length<qtdX)
    qtdX=length
  umidade_data=[]
  temperatura_data=[]
  barometro_data=[]
  pluviometro_data=[]
  acumulada_data=[]
  acumulada=0
  for (var i=length-qtdX; i<length; i++){
    hora_data.push(datetime[i].slice(11,16));
    umidade_data.push(umidade[i])
    temperatura_data.push(temperatura[i])
    barometro_data.push(barometro[i])
    pluviometro_data.push(pluviometro[i])
    acumulada=acumulada+pluviometro[i];
    acumulada_data.push(acumulada)
  }
</script>

<script>
  nome="tabela_pluviometro"
  // hora=hora_data
  label1="Chuva (mm)"
  label2="Acumulada"
  border1="#6CF"
  border2="black"
  // data=pluviometro_data
  title='Quantidade de Chuva (mm)'
  data2=acumulada_data
  max=Math.round((arrayMax(acumulada_data))*1.20)
  min=0

  initChart(nome,hora_data,label1,label2,border1,border2,pluviometro_data,data2,title,max,min)
</script>

<!--
umidade
-->
<script>
  nome="tabela_umidade"

  label1=""
  label2="Umidade Relativa (%)"

  border1=""
  border2="#84d168"

  title="Umidade Relativa do Ar (%)"

  data1=0
  data2=umidade_data
  max=(arrayMax(barometro_data))-10
  min=(arrayMin(barometro_data))+10

  initChart(nome,hora_data,label1,label2,border1,border2,data1,data2,title,max,min)
</script>

<!--
barometro
-->
<script>
  nome="tabela_barometro"

  label1=""
  label2="Pressão Atmosférica (Pah)"

  border1=""
  border2="#f4bf81"

  title='Pressão Atmosférica (Pah)'

  data1=0
  data2=barometro_data
  max=(arrayMax(barometro_data))-10
  min=(arrayMin(barometro_data))+10

  initChart(nome,hora_data,label1,label2,border1,border2,data1,data2,title,max,min)
</script>

<!--
temperatura
-->
<script>
  nome="tabela_temperatura"

  label1=""
  label2="Temperatura (°C)"

  border1=""
  border2="#c97e7e"

  title="Temperatura (°C)"

  data1=0
  data2=temperatura_data
  max=(arrayMax(barometro_data))-10
  min=(arrayMin(barometro_data))+10

  initChart(nome,hora_data,label1,label2,border1,border2,data1,data2,title,max,min)
</script>

<!--
anemometro
<script>
  new Chart(document.getElementById("tabela_anemometro"), {
  type: 'line',
  data: {
    labels: hora_data,
    datasets: [{
        label: "Velocidade dos Ventos (Km/h)",
        type: "line",
        borderColor: "brown",
        data: anemometro_data,
        fill: true
      }
    ]
  },
  options: {
    title: {
      display: true,
      text: "Velocidade dos Ventos (Km/h)",
    },
    legend: { display: false}
  }
  });
</script> -->
