<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="refresh" content="30;url=duastabelas.html">

    <script src="js/Chart.js"></script>
    <script src="js/data.js"></script>
    <script src="js/script.js"></script>
  </head>



    <div id="page_unique">
      </br>
      <div id="content">
        </br>
        <canvas id="tabela_umidade" width="100" height="40"></canvas>

        <script>
          hora=[]
          for (var i=0; i<datetime.length; i++){
            hora.push(datetime[i].slice(11,16));
          }
        </script>

        <script>
          length=(hora.length)
          qtdX=120;
          hora_data=[]
          umidade_data=[]
          pluviometro_data=[]
          for (var i=length-qtdX; i<length; i++){
            hora_data.push(datetime[i].slice(11,16));
            umidade_data.push(umidade[i]);
            pluviometro_data.push(pluviometro[i]);
          }
        </script>



        <script>

        var canvas = document.getElementById('tabela_umidade');
        new Chart(canvas, {
          type: 'line',
          data: {
            labels: hora_data,
            datasets: [{
              label: 'A',
              yAxisID: 'A',
              borderColor: "#6CF",
              data: umidade_data
            }, {
              label: 'B',
              yAxisID: 'B',
              data: pluviometro_data,
            }]
          },
          options: {
            scales: {
              yAxes: [{
                id: 'A',
                type: 'linear',
                position: 'left',
                ticks: {
                  max: (arrayMax(umidade_data))*1.1,
                  min: 0
                }
              }, {
                id: 'B',
                type: 'linear',
                position: 'right',
                ticks: {
                  max: (arrayMax(pluviometro_data))*1.01,
                  min: 0
                }
              }]
            }
          }
        });


        </script>

        </div>
      </div>

  </body>
</html>
